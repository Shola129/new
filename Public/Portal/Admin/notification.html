<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notification Center</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #e0e0e0;
        }
        
        h1 {
            color: #2c3e50;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #7f8c8d;
            font-size: 1.1rem;
        }
        
        .notification-center {
            display: flex;
            flex-direction: column;
            background: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            overflow: hidden;
        }
        
        /* Navigation styles */
        .nav-container {
            background-color: #2c3e50;
            padding: 0;
            position: relative;
        }
        
        .nav-scroll-wrapper {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: thin;
            scrollbar-color: #4a6572 #2c3e50;
        }
        
        .nav-scroll-wrapper::-webkit-scrollbar {
            height: 6px;
        }
        
        .nav-scroll-wrapper::-webkit-scrollbar-track {
            background: #2c3e50;
        }
        
        .nav-scroll-wrapper::-webkit-scrollbar-thumb {
            background-color: #4a6572;
            border-radius: 3px;
        }
        
        .nav-tabs {
            display: flex;
            list-style: none;
            min-width: min-content;
        }
        
        .nav-tab {
            flex-shrink: 0;
            width: auto;
        }
        
        .nav-tab-btn {
            background: none;
            border: none;
            color: #ecf0f1;
            padding: 18px 20px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            white-space: nowrap;
        }
        
        .nav-tab-btn i {
            font-size: 1.2rem;
        }
        
        .nav-tab-btn:hover {
            background-color: #34495e;
            color: white;
        }
        
        .nav-tab-btn.active {
            background-color: #34495e;
            border-bottom: 3px solid #3498db;
            color: white;
        }
        
        /* Content area */
        .content-container {
            display: flex;
            flex-direction: column;
            padding: 30px;
            min-height: 500px;
        }
        
        .content-header {
            margin-bottom: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .content-title {
            font-size: 1.8rem;
            color: #2c3e50;
        }
        
        .notification-count {
            background-color: #3498db;
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        /* Notification list */
        .notification-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .notification-item {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            border-left: 4px solid #3498db;
            box-shadow: 0 3px 5px rgba(0,0,0,0.05);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .notification-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 10px rgba(0,0,0,0.08);
        }
        
        .notification-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 10px;
        }
        
        .notification-title {
            font-weight: 600;
            color: #2c3e50;
            font-size: 1.1rem;
        }
        
        .notification-time {
            color: #7f8c8d;
            font-size: 0.85rem;
        }
        
        .notification-message {
            color: #555;
            margin-bottom: 15px;
            line-height: 1.5;
        }
        
        .notification-actions {
            display: flex;
            gap: 10px;
        }
        
        .btn {
            padding: 8px 18px;
            border-radius: 4px;
            border: none;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.2s;
        }
        
        .btn-detail {
            background-color: #3498db;
            color: white;
        }
        
        .btn-detail:hover {
            background-color: #2980b9;
        }
        
        .btn-message {
            background-color: #ecf0f1;
            color: #2c3e50;
        }
        
        .btn-message:hover {
            background-color: #d5dbdb;
        }
        
        /* Empty state */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #7f8c8d;
        }
        
        .empty-state i {
            font-size: 3rem;
            margin-bottom: 20px;
            color: #bdc3c7;
        }
        
        .empty-state h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }
        
        /* Modal Popup Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            padding: 20px;
        }
        
        .modal {
            background-color: white;
            border-radius: 10px;
            width: 100%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            animation: modalAppear 0.3s ease-out;
        }
        
        @keyframes modalAppear {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            border-bottom: 1px solid #eee;
        }
        
        .modal-title {
            font-size: 1.5rem;
            color: #2c3e50;
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #7f8c8d;
            transition: color 0.2s;
        }
        
        .modal-close:hover {
            color: #e74c3c;
        }
        
        .modal-body {
            padding: 20px;
        }
        
        .modal-notification-info {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .info-row {
            display: flex;
            margin-bottom: 10px;
        }
        
        .info-label {
            font-weight: 600;
            width: 120px;
            color: #2c3e50;
        }
        
        .info-value {
            color: #555;
        }
        
        .modal-textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-family: inherit;
            font-size: 1rem;
            resize: vertical;
            min-height: 120px;
            margin-bottom: 20px;
        }
        
        .modal-actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }
        
        .modal-btn {
            padding: 10px 20px;
            border-radius: 4px;
            border: none;
            cursor: pointer;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.2s;
        }
        
        .modal-btn-primary {
            background-color: #3498db;
            color: white;
        }
        
        .modal-btn-primary:hover {
            background-color: #2980b9;
        }
        
        .modal-btn-secondary {
            background-color: #ecf0f1;
            color: #2c3e50;
        }
        
        .modal-btn-secondary:hover {
            background-color: #d5dbdb;
        }
        
        /* Priority Badges */
        .priority-badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-left: 8px;
        }
        
        .priority-high {
            background-color: #e74c3c;
            color: white;
        }
        
        .priority-medium {
            background-color: #f39c12;
            color: white;
        }
        
        .priority-low {
            background-color: #2ecc71;
            color: white;
        }
        
        /* Mobile responsive styles */
        @media (max-width: 768px) {
            .nav-scroll-wrapper {
                display: flex;
            }
            
            .nav-tab {
                flex: 0 0 auto;
            }
            
            .content-container {
                padding: 20px;
            }
            
            .content-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .notification-actions {
                flex-wrap: wrap;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .modal {
                max-width: 100%;
            }
            
            .modal-header {
                padding: 15px;
            }
            
            .modal-body {
                padding: 15px;
            }
            
            .info-row {
                flex-direction: column;
                margin-bottom: 15px;
            }
            
            .info-label {
                width: 100%;
                margin-bottom: 5px;
            }
        }
        
        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
            
            .nav-tab-btn {
                padding: 15px 18px;
                font-size: 0.9rem;
            }
            
            .nav-tab-btn i {
                font-size: 1rem;
            }
            
            .notification-item {
                padding: 15px;
            }
            
            .notification-header {
                flex-direction: column;
                gap: 5px;
            }
            
            .btn {
                padding: 8px 12px;
                font-size: 0.85rem;
            }
            
            .modal-actions {
                flex-direction: column;
            }
            
            .modal-btn {
                width: 100%;
            }
        }
        
        /* Footer */
        footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
            color: #7f8c8d;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Notification Center</h1>
            <p class="subtitle">Stay updated with the latest notifications from your dashboard</p>
        </header>
        
        <main class="notification-center">
            <!-- Navigation Tabs -->
            <div class="nav-container">
                <div class="nav-scroll-wrapper" id="nav-scroll-wrapper">
                    <ul class="nav-tabs">
                        <li class="nav-tab">
                            <button class="nav-tab-btn active" data-tab="staff">
                                <i class="fas fa-users"></i>
                                <span>Staff</span>
                            </button>
                        </li>
                        <li class="nav-tab">
                            <button class="nav-tab-btn" data-tab="student">
                                <i class="fas fa-graduation-cap"></i>
                                <span>Student</span>
                            </button>
                        </li>
                        <li class="nav-tab">
                            <button class="nav-tab-btn" data-tab="principal">
                                <i class="fas fa-user-tie"></i>
                                <span>Principal</span>
                            </button>
                        </li>
                        <li class="nav-tab">
                            <button class="nav-tab-btn" data-tab="supervisors">
                                <i class="fas fa-user-shield"></i>
                                <span>Supervisors</span>
                            </button>
                        </li>
                        <li class="nav-tab">
                            <button class="nav-tab-btn" data-tab="staff-app">
                                <i class="fas fa-file-alt"></i>
                                <span>Staff Application</span>
                            </button>
                        </li>
                        <li class="nav-tab">
                            <button class="nav-tab-btn" data-tab="student-app">
                                <i class="fas fa-file-signature"></i>
                                <span>Student Application</span>
                            </button>
                        </li>
                        <li class="nav-tab">
                            <button class="nav-tab-btn" data-tab="comment">
                                <i class="fas fa-comments"></i>
                                <span>Comment from Dashboard</span>
                            </button>
                        </li>
                    </ul>
                </div>
            </div>
            
            <!-- Content Area -->
            <div class="content-container">
                <div class="content-header">
                    <h2 class="content-title" id="content-title">Staff Notifications</h2>
                    <div class="notification-count" id="notification-count">4 New</div>
                </div>
                
                <div class="notification-list" id="notification-list">
                    <!-- Notifications will be loaded here by JavaScript -->
                </div>
            </div>
        </main>
        
        <!-- Detail Modal -->
        <div class="modal-overlay" id="detail-modal">
            <div class="modal">
                <div class="modal-header">
                    <h3 class="modal-title">Notification Details</h3>
                    <button class="modal-close" id="close-detail-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="modal-notification-info">
                        <div class="info-row">
                            <span class="info-label">Title:</span>
                            <span class="info-value" id="detail-title">Staff Meeting Scheduled</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Category:</span>
                            <span class="info-value" id="detail-category">Staff</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Time:</span>
                            <span class="info-value" id="detail-time">2 hours ago</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Type:</span>
                            <span class="info-value" id="detail-type">Meeting</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Priority:</span>
                            <span class="info-value" id="detail-priority">Medium</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Status:</span>
                            <span class="info-value" id="detail-status">Unread</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Sender:</span>
                            <span class="info-value" id="detail-sender">Admin Department</span>
                        </div>
                    </div>
                    <div class="info-row" style="flex-direction: column; margin-bottom: 0;">
                        <span class="info-label">Full Message:</span>
                        <p class="info-value" id="detail-message" style="margin-top: 10px; line-height: 1.6;">
                            Quarterly staff meeting is scheduled for Friday at 10:00 AM in Conference Room A.
                        </p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Message Modal -->
        <div class="modal-overlay" id="message-modal">
            <div class="modal">
                <div class="modal-header">
                    <h3 class="modal-title">Send Message</h3>
                    <button class="modal-close" id="close-message-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="modal-notification-info">
                        <div class="info-row">
                            <span class="info-label">Replying to:</span>
                            <span class="info-value" id="message-notification-title">Staff Meeting Scheduled</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Notification ID:</span>
                            <span class="info-value" id="message-notification-id">N-001</span>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <label for="message-recipient" style="display: block; margin-bottom: 8px; font-weight: 600; color: #2c3e50;">Recipient:</label>
                        <select id="message-recipient" class="modal-textarea" style="height: auto; min-height: 0;">
                            <option value="sender">Original Sender</option>
                            <option value="admin">Administrator</option>
                            <option value="principal">Principal</option>
                            <option value="supervisor">Supervisor</option>
                            <option value="support">Support Team</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <label for="message-subject" style="display: block; margin-bottom: 8px; font-weight: 600; color: #2c3e50;">Subject:</label>
                        <input type="text" id="message-subject" class="modal-textarea" style="height: auto; min-height: 0;" value="Re: Notification">
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <label for="message-content" style="display: block; margin-bottom: 8px; font-weight: 600; color: #2c3e50;">Your Message:</label>
                        <textarea id="message-content" class="modal-textarea" placeholder="Type your message here..."></textarea>
                    </div>
                    
                    <div class="modal-actions">
                        <button class="modal-btn modal-btn-secondary" id="cancel-message">Cancel</button>
                        <button class="modal-btn modal-btn-primary" id="send-message">Send Message</button>
                    </div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Notification Center &copy; 2023 | All notifications are confidential</p>
        </footer>
    </div>

    <script>
        // Sample notification data for each category with Principal and Supervisors added
        const notificationData = {
            staff: [
                {
                    id: 1,
                    title: "Staff Meeting Scheduled",
                    message: "Quarterly staff meeting is scheduled for Friday at 10:00 AM in Conference Room A. Please bring your quarterly reports. The meeting is expected to last about 2 hours and will cover budget planning, project updates, and team restructuring discussions.",
                    time: "2 hours ago",
                    type: "meeting",
                    priority: "medium",
                    status: "unread",
                    sender: "Admin Department"
                },
                {
                    id: 2,
                    title: "Performance Review Reminder",
                    message: "Your annual performance review is due next week. Please submit your self-assessment by Friday. The review will evaluate your achievements, areas for improvement, and set goals for the upcoming year.",
                    time: "1 day ago",
                    type: "reminder",
                    priority: "high",
                    status: "read",
                    sender: "HR Department"
                },
                {
                    id: 3,
                    title: "New Policy Document",
                    message: "A new HR policy document has been uploaded. All staff members are required to review it before the end of the month. The document covers updated remote work policies, vacation request procedures, and code of conduct revisions.",
                    time: "2 days ago",
                    type: "document",
                    priority: "medium",
                    status: "unread",
                    sender: "HR Department"
                },
                {
                    id: 4,
                    title: "IT Maintenance Scheduled",
                    message: "IT department will perform system maintenance this Sunday from 2:00 AM to 6:00 AM. During this time, access to the staff portal and email system will be unavailable. Please save any important work before the maintenance window begins.",
                    time: "3 days ago",
                    type: "maintenance",
                    priority: "low",
                    status: "read",
                    sender: "IT Department"
                }
            ],
            student: [
                {
                    id: 1,
                    title: "Exam Schedule Released",
                    message: "Final exam schedule for the current semester is now available on the student portal. Please check your individual timetable and report any conflicts to the examination office within 48 hours.",
                    time: "5 hours ago",
                    type: "academic",
                    priority: "high",
                    status: "unread",
                    sender: "Examination Office"
                },
                {
                    id: 2,
                    title: "Library Book Due Reminder",
                    message: "You have 3 books due for return in 2 days. Please renew or return them to avoid late fees. The books are: 'Advanced Calculus', 'Data Structures', and 'Modern Physics'.",
                    time: "1 day ago",
                    type: "reminder",
                    priority: "medium",
                    status: "unread",
                    sender: "Library System"
                }
            ],
            principal: [
                {
                    id: 1,
                    title: "Board Meeting Agenda",
                    message: "The agenda for the upcoming board meeting has been finalized. Key discussion points include annual budget approval, new campus expansion plans, and faculty hiring proposals. Your presence is required.",
                    time: "3 hours ago",
                    type: "meeting",
                    priority: "high",
                    status: "unread",
                    sender: "Board Secretary"
                },
                {
                    id: 2,
                    title: "Annual Report Submission",
                    message: "Reminder: The annual institutional report needs to be submitted to the education board by the end of this month. The draft is ready for your final review and approval.",
                    time: "1 day ago",
                    type: "report",
                    priority: "high",
                    status: "unread",
                    sender: "Academic Office"
                },
                {
                    id: 3,
                    title: "Accreditation Committee Visit",
                    message: "The national accreditation committee will visit our campus next month. Please review the preparation checklist and schedule a meeting with department heads to discuss readiness.",
                    time: "2 days ago",
                    type: "important",
                    priority: "high",
                    status: "read",
                    sender: "Accreditation Office"
                },
                {
                    id: 4,
                    title: "Government Inspection Notice",
                    message: "Notice received: Government education inspectors will visit the campus in two weeks for routine inspection. All departments should be prepared with necessary documentation.",
                    time: "3 days ago",
                    type: "inspection",
                    priority: "high",
                    status: "read",
                    sender: "Government Liaison"
                }
            ],
            supervisors: [
                {
                    id: 1,
                    title: "Supervisor Meeting Reminder",
                    message: "Monthly supervisors meeting is scheduled for tomorrow at 2:00 PM. Agenda includes team performance reviews, project updates, and resource allocation discussions.",
                    time: "4 hours ago",
                    type: "meeting",
                    priority: "medium",
                    status: "unread",
                    sender: "Management Office"
                },
                {
                    id: 2,
                    title: "Team Performance Reports Due",
                    message: "Quarterly team performance reports are due by Friday. Please ensure all data is updated and include your assessment of team members' progress and any concerns.",
                    time: "1 day ago",
                    type: "report",
                    priority: "medium",
                    status: "unread",
                    sender: "HR Department"
                },
                {
                    id: 3,
                    title: "New Supervision Guidelines",
                    message: "Updated supervision guidelines have been released. Please review the new protocols for mentoring junior staff, conducting evaluations, and reporting issues.",
                    time: "2 days ago",
                    type: "guidelines",
                    priority: "low",
                    status: "read",
                    sender: "Administration"
                },
                {
                    id: 4,
                    title: "Conflict Resolution Training",
                    message: "Mandatory conflict resolution training for all supervisors has been scheduled for next Tuesday. Please confirm your attendance by end of day today.",
                    time: "3 days ago",
                    type: "training",
                    priority: "medium",
                    status: "read",
                    sender: "Training Department"
                }
            ],
            "staff-app": [
                {
                    id: 1,
                    title: "Application Submitted",
                    message: "Your application for professional development grant has been submitted successfully. Application ID: PDG-2023-045. You will receive a confirmation email within 24 hours.",
                    time: "3 hours ago",
                    type: "submission",
                    priority: "low",
                    status: "unread",
                    sender: "Grants Committee"
                },
                {
                    id: 2,
                    title: "Application Under Review",
                    message: "Your leave application for June 15-20 is currently under review by the department head. Expected decision date: June 10. You will be notified once a decision is made.",
                    time: "1 day ago",
                    type: "review",
                    priority: "medium",
                    status: "read",
                    sender: "HR Department"
                },
                {
                    id: 3,
                    title: "Application Approved",
                    message: "Your request for software license has been approved. You will receive access within 24 hours. License key will be sent to your registered email address.",
                    time: "4 days ago",
                    type: "approval",
                    priority: "low",
                    status: "read",
                    sender: "IT Department"
                }
            ],
            "student-app": [
                {
                    id: 1,
                    title: "Scholarship Application Received",
                    message: "Your scholarship application has been received and is currently being processed. Application reference: SCH-2023-789. Processing usually takes 10-15 business days.",
                    time: "1 day ago",
                    type: "submission",
                    priority: "medium",
                    status: "unread",
                    sender: "Scholarship Office"
                },
                {
                    id: 2,
                    title: "Course Registration Approved",
                    message: "Your course registration for Advanced Mathematics has been approved by the department. You can now access the course materials on the learning portal.",
                    time: "2 days ago",
                    type: "approval",
                    priority: "low",
                    status: "read",
                    sender: "Academic Department"
                },
                {
                    id: 3,
                    title: "Dormitory Application Status",
                    message: "Your dormitory application is in the waiting list. Current position: 12. We will notify you as soon as a room becomes available.",
                    time: "5 days ago",
                    type: "status",
                    priority: "low",
                    status: "read",
                    sender: "Housing Office"
                }
            ],
            comment: [
                {
                    id: 1,
                    title: "New Comment on Your Post",
                    message: "John Smith commented on your dashboard post: 'Great analysis! Could you share the source data? I think this would be valuable for our quarterly review meeting next week.'",
                    time: "1 hour ago",
                    type: "feedback",
                    priority: "low",
                    status: "unread",
                    sender: "John Smith"
                },
                {
                    id: 2,
                    title: "Reply to Your Comment",
                    message: "Jane Doe replied to your comment on the quarterly report dashboard: 'Thanks for pointing that out! I've updated the figures based on your feedback. The revised report is now available.'",
                    time: "3 hours ago",
                    type: "reply",
                    priority: "low",
                    status: "unread",
                    sender: "Jane Doe"
                },
                {
                    id: 3,
                    title: "Mention in Dashboard Comment",
                    message: "You were mentioned by Alex Johnson in a comment on the enrollment statistics dashboard: '@YourName Could you provide the enrollment data for the Computer Science department for the last 3 years?'",
                    time: "1 day ago",
                    type: "mention",
                    priority: "medium",
                    status: "read",
                    sender: "Alex Johnson"
                }
            ]
        };

        // Variables to track current notification for modals
        let currentNotificationId = null;
        let currentNotificationCategory = null;

        // Function to display notifications for a specific category
        function displayNotifications(category) {
            const notificationList = document.getElementById('notification-list');
            const contentTitle = document.getElementById('content-title');
            const notificationCount = document.getElementById('notification-count');
            
            // Clear current notifications
            notificationList.innerHTML = '';
            
            // Update title and count
            const categoryNames = {
                staff: "Staff",
                student: "Student",
                principal: "Principal",
                supervisors: "Supervisors",
                "staff-app": "Staff Application",
                "student-app": "Student Application",
                comment: "Comment from Dashboard"
            };
            
            contentTitle.textContent = `${categoryNames[category]} Notifications`;
            
            // Count unread notifications
            const unreadCount = notificationData[category].filter(n => n.status === "unread").length;
            const totalCount = notificationData[category].length;
            
            notificationCount.textContent = `${unreadCount} Unread / ${totalCount} Total`;
            
            // Check if there are notifications for this category
            if (notificationData[category].length === 0) {
                notificationList.innerHTML = `
                    <div class="empty-state">
                        <i class="far fa-bell-slash"></i>
                        <h3>No Notifications</h3>
                        <p>There are no notifications in this category at the moment.</p>
                    </div>
                `;
                return;
            }
            
            // Add notifications to the list
            notificationData[category].forEach(notification => {
                const notificationElement = document.createElement('div');
                notificationElement.className = 'notification-item';
                
                // Set border color based on notification priority
                let borderColor = '#3498db'; // default blue
                if (notification.priority === 'high') borderColor = '#e74c3c';
                if (notification.priority === 'medium') borderColor = '#f39c12';
                if (notification.priority === 'low') borderColor = '#2ecc71';
                if (notification.status === 'read') borderColor = '#95a5a6';
                
                notificationElement.style.borderLeftColor = borderColor;
                
                // Add priority badge
                const priorityBadge = notification.priority ? 
                    `<span class="priority-badge priority-${notification.priority}">${notification.priority.toUpperCase()}</span>` : '';
                
                // Add unread indicator
                const unreadIndicator = notification.status === 'unread' ? 
                    '<span style="display: inline-block; width: 8px; height: 8px; background-color: #e74c3c; border-radius: 50%; margin-left: 5px;"></span>' : '';
                
                notificationElement.innerHTML = `
                    <div class="notification-header">
                        <div class="notification-title">${notification.title}${unreadIndicator}${priorityBadge}</div>
                        <div class="notification-time">${notification.time}</div>
                    </div>
                    <div class="notification-message">${notification.message.length > 150 ? notification.message.substring(0, 150) + '...' : notification.message}</div>
                    <div class="notification-actions">
                        <button class="btn btn-detail" onclick="showDetailPopup(${notification.id}, '${category}')">Detail</button>
                        <button class="btn btn-message" onclick="showMessagePopup(${notification.id}, '${category}')">Message</button>
                    </div>
                `;
                
                notificationList.appendChild(notificationElement);
            });
        }

        // Function to show detail popup
        function showDetailPopup(id, category) {
            const notification = notificationData[category].find(item => item.id === id);
            
            // Update modal content
            document.getElementById('detail-title').textContent = notification.title;
            document.getElementById('detail-category').textContent = category.replace('-', ' ').toUpperCase();
            document.getElementById('detail-time').textContent = notification.time;
            document.getElementById('detail-type').textContent = notification.type.charAt(0).toUpperCase() + notification.type.slice(1);
            document.getElementById('detail-priority').textContent = notification.priority.charAt(0).toUpperCase() + notification.priority.slice(1);
            document.getElementById('detail-status').textContent = notification.status.charAt(0).toUpperCase() + notification.status.slice(1);
            document.getElementById('detail-sender').textContent = notification.sender;
            document.getElementById('detail-message').textContent = notification.message;
            
            // Show the modal
            document.getElementById('detail-modal').style.display = 'flex';
            
            // Mark as read when viewing details
            if (notification.status === 'unread') {
                notification.status = 'read';
                // Refresh the notifications list
                displayNotifications(category);
            }
        }

        // Function to show message popup
        function showMessagePopup(id, category) {
            const notification = notificationData[category].find(item => item.id === id);
            
            // Store current notification info for sending message
            currentNotificationId = id;
            currentNotificationCategory = category;
            
            // Update modal content
            document.getElementById('message-notification-title').textContent = notification.title;
            document.getElementById('message-notification-id').textContent = `N-${String(id).padStart(3, '0')}`;
            document.getElementById('message-subject').value = `Re: ${notification.title}`;
            document.getElementById('message-content').value = '';
            
            // Set recipient based on category
            const recipientSelect = document.getElementById('message-recipient');
            if (category === 'principal') {
                recipientSelect.value = 'principal';
            } else if (category === 'supervisors') {
                recipientSelect.value = 'supervisor';
            } else {
                recipientSelect.value = 'sender';
            }
            
            // Show the modal
            document.getElementById('message-modal').style.display = 'flex';
        }

        // Function to handle tab switching
        function setupTabListeners() {
            const tabButtons = document.querySelectorAll('.nav-tab-btn');
            
            tabButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Remove active class from all buttons
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    
                    // Add active class to clicked button
                    this.classList.add('active');
                    
                    // Get the tab category from data attribute
                    const category = this.getAttribute('data-tab');
                    
                    // Display notifications for this category
                    displayNotifications(category);
                });
            });
        }

        // Function to setup modal event listeners
        function setupModalListeners() {
            // Detail modal close button
            document.getElementById('close-detail-modal').addEventListener('click', function() {
                document.getElementById('detail-modal').style.display = 'none';
            });
            
            // Message modal close button
            document.getElementById('close-message-modal').addEventListener('click', function() {
                document.getElementById('message-modal').style.display = 'none';
            });
            
            // Cancel message button
            document.getElementById('cancel-message').addEventListener('click', function() {
                document.getElementById('message-modal').style.display = 'none';
            });
            
            // Send message button
            document.getElementById('send-message').addEventListener('click', function() {
                const recipient = document.getElementById('message-recipient').value;
                const subject = document.getElementById('message-subject').value;
                const content = document.getElementById('message-content').value;
                
                if (!content.trim()) {
                    alert('Please enter a message before sending.');
                    return;
                }
                
                // Get recipient display name
                const recipientNames = {
                    'sender': 'Original Sender',
                    'admin': 'Administrator',
                    'principal': 'Principal',
                    'supervisor': 'Supervisor',
                    'support': 'Support Team',
                    'other': 'Other Recipient'
                };
                
                // Show success message
                alert(`Message sent successfully to ${recipientNames[recipient]}!\n\nSubject: ${subject}\n\nMessage: ${content}`);
                
                // Close the modal
                document.getElementById('message-modal').style.display = 'none';
                
                // Reset the form
                document.getElementById('message-content').value = '';
            });
            
            // Close modals when clicking outside
            const modals = document.querySelectorAll('.modal-overlay');
            modals.forEach(modal => {
                modal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        this.style.display = 'none';
                    }
                });
            });
            
            // Close modals with Escape key
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    modals.forEach(modal => {
                        modal.style.display = 'none';
                    });
                }
            });
        }

        // Initialize the notification center when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Set up tab listeners
            setupTabListeners();
            
            // Set up modal listeners
            setupModalListeners();
            
            // Display staff notifications by default
            displayNotifications('staff');
        });
    </script>
</body>
</html>